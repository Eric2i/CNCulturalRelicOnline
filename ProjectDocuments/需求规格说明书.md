# 需求规格说明书

## 导言

### 目标

本需求规格说明书旨在描述一个数字博物馆系统的需求规格，包括五个子系统：知识图谱构建子系统、海外文物知识服务子系统、掌上博物馆子系统、知识问答子系统、后台管理子系统。

### 参考资料

1.  CIDOC-CRM；资源链接：https://cidoc-crm.org/html/cidoc_crm_v7.1.1_with_translations.html#E1
2.  建模工具Karma；资源链接: https://github.com/usc-isi-i2/Web-Karma
3. Virtuoso数据库；资源链接：https://github.com/openlink/virtuoso-opensource
4. 克利夫兰博物馆之搜索界面包括简单搜索和高级搜索；资源链接：https://www.clevelandart.org/art/collection/search
5. 时间轴工具；资源链接：https://timeline.knightlab.com；https://www.allhistory
6. 知识图谱可视化；资源链接：https://www.allhistory.com/relation?networkId=5cf8e3ecefe5550001f1435c
7. 关系图谱可视化工程；资源链接：https://emiliorizzo.github.io/vue-d3-network/
8. Openai API-Key使用指南；资源链接： https://platform.openai.com/docs/api-reference/introduction

## 系统概述

数字博物馆系统是一个面向公众的，基于互联网的博物馆服务平台。该系统提供了数字化文物资源的展示、查询、交互等功能，让公众可以在网络上全方位地感知、了解和学习文物知识。数字博物馆系统包含五个子系统：知识图谱构建子系统、海外文物知识服务子系统、掌上博物馆子系统、知识问答子系统、后台管理子系统。

### 知识图谱构建子系统

知识图谱构建子系统通过编写程序从海外博物馆网站爬取中国文物信息，进行加工处理为三元组形式,将三元组数据保存到图数据库中,完成海外文物知识图谱的构建

### 后台管理子系统

博物馆后台管理子系统是一款用于管理博物馆后台的软件系统。该系统包括用户管理、信息审核、数据管理、数据备份和恢复、日志管理等模块，具有安全、高效、易用、可扩展等特点。该系统旨在帮助博物馆管理人员更好地管理和运营博物馆。

### 海外文物知识服务子系统

海外文物知识服务子系统对于文物的需求归纳如下：

1. 文物浏览：显示文物的基本信息、图片，播放讲解等（如果提供了讲解 音视频）；可以进行按照关 键字搜索的简单搜索。 
2. 以关键字搜图：可以根据关键字搜索 相关文物。 
3. 用户个人信息管理：用户可以注册登录该系统，设置用户名等个人信息。

### 掌上博物馆

掌上博物馆是通过为运行安卓/鸿蒙移动终端设备开发应用程序，从而使用户可以通过移动设备方便快捷的访问本数字博物馆的知识内容。总体上，本掌上博物馆子系统包含以下几个核心功能：

- 文物浏览：显示文物的基本信息、图片；可以进行按照关键字搜索的简单搜索。

- 用户交互：用户可以对单个文物点赞、留言评论等功能。

- 用户个人信息管理：用户可以注册登录该系统，设置用户名密码等个人 信息；可以对于个人信息进行修改以及对密码进行修改；该功能对后台管理子系统具有一定的依赖

### 知识问答子系统

知识问答子系统将主要围绕以下核心功能展开：

1）页面渲染：显示对话框相关前端页面

2）用户交互：用户可以与该系统进行简单的对话问答

3）知识问答(选做)：记录得分方式的问答游戏

## 运行环境

### 硬件环境

- 服务器设备：
  - 操作系统：Linux
  - 中央处理器：
  - 运行内存：
  - 存储容量：
- 移动终端设备：
  - 操作系统：Android >= 6.0 / HarmonyOS
  - 运行内存: >= 4GB

### 软件环境

- Web服务器: Nginx
- 前端框架：Vue3
- 后端框架：SpringBoot2.7
- 数据库服务器：MySQL、Neo4j
- 移动端应用：Java
- 数据爬取平台：Python
- 数据建模工具：Karma

## 角色定义

- 游客：未登录用户，可以浏览文物信息和部分功能。
- 用户：已注册登录的用户，可以查看所有文物信息、参加活动和使用全部功能。
- 管理员：后台管理子系统的用户，可以管理用户、管理文物信息和活动信息。

## 功能规格

### 知识图谱构建子系统：

- 爬取海外博物馆网站的中国文物信息，包括文物名字、文物图片、年代、介绍等信息。
- 将原始数据转化为三元组形式。
-  对可能存在的确实数据项，考虑从互联网资源填充缺失值
- 将三元组数据存入到图数据库中
- 提供数据可视化的接口，实现关系图谱、时间轴等功能。

### 掌上博物馆子系统：

#### 用例一: 用户对文物进行点赞评价

主要参与者：用户

情景目标：对某样文物进行点赞评论

前提条件：需要登入，联网

启动：用户对某个文物进行点赞评论

场景：

1. 打开软件进入登陆界面
2. 登录
3. 用户检索需要的文物
4. 用户选择某样文物
5. 进入文物详细界面
6. 用户进行点赞
7. 用户进入评论区
8. 用户写下评论
9. 点击上传评论
10. 评论上传成功
11. 退出登录

异常：服务器无响应

使用频率：每天多次

使用方式：app

次要参与者：系统后台

次要参与者参与方式：显示点赞状态，保存并展示评论

#### 用例二：用户按关键字搜索文物的基本信息

主要参与者：用户

情景目标：通过搜索功能搜索到相应的文物信息

前提条件：需要联网

启动：用户点击掌上博物馆的搜索栏

场景：

1. 用户进入APP
2. 在主界面点击搜索框
3. 输入有关文物的名称或者关键字
4. 等待系统响应
5. 系统响应成功，即可出现含关键字的文物名称下滑栏
6. 点击文物查看信息

异常：

1. 系统未响应
2. 未找到与信息相关的文物

使用频率：每天多次

使用方式：掌上博物馆app

次要参与者：系统后台

次要参与者参与方式：检索与关键字相关的文物并展示

#### 用例三：用户修改个人信息：

主要参与者：用户。

场景：

1. 用户进行登录

2. 点击用户区进入用户中心

3. 点击修改个人信息或者修改密码

4. 编辑信息或密码

5. 点击保存

6. 返回主界面

异常：

1. 用户点击编辑资料每点击保存。此时不保存用户编辑的资料。

2. 用户编辑资料信息非法。

#### 用例四：用户注册

主要参与者：用户

场景：

1. 进入未登录时的主界面

2. 点击注册

3. 填写相关信息

4. 点击注册完成注册

5. 返回登陆页面

异常：

1. 注册信息不合法则注册不通过。

次要参与者：系统管理员

参与方式：审核注册信息

#### 用例五：用户登录

主要参与者：用户

场景：

1. 进入未登录时的主页面

2. 填写账号密码

3. 点击登录进行登录

异常：

1. 填写未注册的账号，登陆失败。

2. 填写错误的密码，登陆失败。

### 海外文物知识服务子系统：

#### 用例一：查询文物信息

主要参与者：用户

描述：

​	用户可以通过简单搜索或高级搜索功能来查询文物的基础信息。查询结果包括文物的标题、图片、简介等信息。用户可以点击查询结果中的文物标题或图片，进入该文物的详情页面。

场景：

1. 用户在查询框中输入文物关键词，并选择搜索类型（简单搜索或高级搜索）。
2. 如果是简单搜索，系统将根据关键词在文物标题、介绍等信息中进行模糊匹配，并返回符合条件的文物列表；如果是高级搜索，用户可以输入更多的搜索条件，如文物的时代、种类、材质等。
3. 系统返回文物列表，列表中包括文物的标题、图片、简介等基础信息。
4. 用户可以通过点击文物标题或图片进入文物详情页面，查看更详细的信息。

异常：

1. 如果搜索关键词为空，系统返回“请输入搜索关键词”提示。
2. 如果没有符合条件的文物，系统返回“未找到符合条件的文物”提示。

使用频率：每天多次

使用方式：知识服务子系统Web端

#### 用例二：时间轴浏览

主要参与者：用户

描述：

​	用户可以通过时间轴功能来浏览文物的历史。时间轴上显示了文物的年代，用户可以点击某个年代查看该时期的文物列表，并可以点击某个文物进入文物详情页面。

场景：

1. 用户打开时间轴功能，浏览文物历史。
2. 时间轴上显示了文物的年代，用户可以点击某个年代进入该时期的文物列表页面。
3. 系统返回该时期的文物列表，列表中包括文物的标题、图片、简介等基础信息。
4. 用户可以通过点击文物标题或图片进入文物详情页面，查看更详细的信息。

异常：

1. 如果时间轴上没有任何文物，系统返回“暂无文物数据”提示。

使用频率：每天多次

使用方式：知识服务子系统Web端

#### 用例三：知识图谱可视化

主要参与者：用户

场景：

1. 用户在知识图谱查询页面上选择一个文物节点，点击节点。
2. 系统根据用户的点击行为，展示以该文物节点为中心的知识图谱。
3. 用户可以通过鼠标或手指手势来缩放、平移知识图谱。
4. 用户可以查看与该文物节点有关系的其他文物节点的信息，例如名称、时代、图片等。
5. 用户可以点击与该文物节点有关系的其他文物节点，系统会重新以该节点为中心展示关联节点的知识图谱。

异常：

​	用户选择的文物节点不存在，系统展示错误信息并提示用户重新输入。

使用频率：每天多次

使用方式：知识服务子系统Web端

### 知识问答子系统：

#### 用例一：使用问答系统

主要参与者：用户 

​	情景目标：对浏览完其它系统后产生的疑问从而发出提问

​	前提条件：已登录其它系统，联网

​	启动：对对话框输入内容并且点击提问

​	场景：

​	1. 进入其他登陆界面 

​	2. 登录

​    3. 点击进入知识问答系统

​    4. 点击对话框

​    5. 输入问题

​    6. 点击发送

​    7. 系统答复

​	异常： 服务器无响应 

​	使用频率：每天多次 

​	使用方式：点击进入该系统

​	次要参与者：系统后台 

​	次要参与者参与方式：获取用户输入并且返回对话信息

### 后台管理子系统：

- 管理后台管理子系统用户、掌上博物馆用户、知识服务子系统用户的基础信息。
- 审核用户发表的留言、图片、音视频等内容的功能。对于审核不通过的内容会被屏蔽，同时对该用户进行一定程度惩罚，如禁止发评论等。
- 支持数据库的备份和恢复。实现手动备份恢复或定时备份功能
- 查看和检索后台管理子系统的操作日志。记录包括管理员等用户对后台数据的操作记录，数据库的备份还原等记录。

## 性能需求

### 博物馆后台管理子系统

需要保证系统的安全、高效、易用和可扩展性。要求系统稳定运行，在高并发情况下也能够正常响应，同时具备良好的用户体验和扩展性。

### 掌上博物馆子系统

- 响应时间需求: 程序相应的事件应该在五秒以内。且不能长时间的没有响应。如果遇到长时间不能提供响应

- 可靠性需求: 系统应该7x24小时都能提供服务，允许多人同时在客户端登陆，系统正常运行，且能正确显示相关内容。

- 系统安全性需求: 系统要有严格的权限管理，防止用户的非法操作对系统造成破坏或者获取相关数据信息。

### 海外文物知识服务子系统

- 稳定性需求：保证系统的稳定性和高并发能力
- 多用户需求：系统应支持大量用户同时在线浏览文物信息和使用相关功能

## 数据字典

### 文物信息数据字典

|  数据项  | 数据类型 |        描述        |
| :------: | :------: | :----------------: |
| 文物名称 |  字符串  |   描述文物的名称   |
| 文物图片 |   图片   |   描述文物的外观   |
|   年代   |  字符串  |   描述文物的年代   |
|   材质   |  字符串  |   描述文物的材质   |
|  收藏地  |  字符串  |  描述文物的收藏地  |
|   类型   |  字符串  |   描述文物的类型   |
|   介绍   |  字符串  | 描述文物的基本信息 |

### 用户数据字典

|    数据项    | 数据类型 |        描述        |
| :----------: | :------: | :----------------: |
|    用户ID    |  字符串  |  用户的唯一标识符  |
|    用户名    |  字符串  |    用户的用户名    |
|     密码     |  字符串  |     用户的密码     |
|     邮箱     |  字符串  |     用户的邮箱     |
|   注册时间   |  字符串  |   用户的注册时间   |
| 最近登录时间 |  字符串  | 用户的最近登录时间 |

### 系统数据字典

|  数据项  | 数据类型 |       描述       |
| :------: | :------: | :--------------: |
|  系统ID  |  字符串  | 系统的唯一标识符 |
| 系统名称 |  字符串  |    系统的名称    |
| 系统版本 |  字符串  |   系统的版本号   |
| 系统类型 |  字符串  |    系统的类型    |
| 系统描述 |  字符串  |  系统的详细描述  |
|  开发者  |  字符串  |   系统的开发者   |

## 限制条件

- 知识图谱构建子系统需要在可靠的网络环境下运行，否则可能会出现数据抓取失败等问题。
- 系统需要保证数据的安全性，防止非法用户对数据进行篡改、删除等操作。
- 用户的操作需要进行权限控制，不同用户具有不同的权限，不能越权操作。
- 系统需要保证稳定性和可靠性，尽量减少系统崩溃、数据丢失等问题的发生。
- 系统需要保证高并发访问，能够处理大量用户同时访问的情况。

## 假设和依赖关系

### 假设

1. 所有海外博物馆的网站均可被访问且数据结构相同。
2. 爬取的中国文物信息均为正确、真实的信息。
3. 互联网百科数据的准确性和完整性不在本系统的控制范围内。
4. 系统运行时所需的硬件和软件环境能够得到满足。
5. 用户使用系统时遵守法律法规，不进行非法活动。

### 依赖关系

1. 系统需要依赖网络连接，包括对海外博物馆网站和互联网百科数据的访问。
2. 系统需要依赖开源的爬虫框架（如Scrapy）和图数据库（如Virtuoso或Neo4j）等工具来实现知识图谱构建子系统的功能。
3. 系统需要依赖自然语言处理（NLP）工具（如NLTK、spaCy等）和机器学习算法（如SVM、CNN等）等技术来实现知识问答子系统的功能。
4. 系统需要依赖Web框架（如Django、Flask等）和前端框架（如Vue.js、React等）等技术来实现用户界面和数据可视化等功能。
5. 系统需要依赖数据库（如MySQL、Neo4j等）等工具来存储数据。