
# 掌上博物馆

## 一、测试简介 

### （一）测试目的
>
> 本测试旨在测试掌上app
> 
> 系统的各项功能是否运行正常以及是否迎合项目需求。测试内容包括用户管理功能、信息审核功能、数据管理功能以及数据备份和恢复功能的运行测试，通过测试人员验证用例，以检验子系统运行情况。

### （二）测试人员 

> 王仲

（三）测试时间 

> 开始日期：2023 年 5 月 18 日
>
> 完成日期：2023 年 5 月 20 日
>
> 共花费 2 工作日。

## 二、测试环境 

### （一）硬件环境
>
> 操作系统：HarmonyOS 2.0.0、Android 处理器：Huawei Kirin980
>
> 运行内存:8.0GB 屏幕:2310\*1080

 ### （二）软件版本 

> Android Studio 4.2.2 compileSdkVersion30 buildToolsVersion\"32.0.0\"

## 三、测试内容 

### （一）测试用例

| 测试用例                           | 预期结果                                                                                                                                                                                                         | 实际结果                                                                                                                                                                                                          |
| ---------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 点击应用                           | 进入登陆界面                                                                                                                                                                                                     | 进入登陆界面                                                                                                                                                                                                      |
| 登陆界面点击注册                   | 进入注册页面                                                                                                                                                                                                     | 进入注册页面                                                                                                                                                                                                      |
| 登陆界面输入正确的账号密码         | 进入主页                                                                                                                                                                                                         | 进入主页                                                                                                                                                                                                          |
| 登陆界面输入错误的账号密码         | 密码栏提示用户名或密码不存在                                                                                                                                                                                     | 密码栏提示用户名或密码不存在                                                                                                                                                                                      |
| 用户注册页面输入不规范的注册信息   | 1.用户名与密码相同提示用户名不能与密码 <br> 2. 密码小于 6 位提示密码小于 6 位 <br> 3.密码大于 16 位提示密码不能多于 16 位 <br> 4.输入已存在的用户名提示用户名已存在 <br> 5. 输入两次密码不一致提示两次密码不一致 | 1.用户名与密码相同提示用户名不能与密码 <br> 2. 密码小于 6 位提示密码小于 6 位 <br> 3.密码大于 16 位提示密码不能多于 16 位 <br> 4.输入已存在的用户名提示用户名已存在  <br> 5. 输入两次密码不一致提示两次密码不一致 |
| 用户输入规范的注册信息             | 注册成功并且返回登陆页面                                                                                                                                                                                         | 注册成功并且返回登陆页面                                                                                                                                                                                          |
| 主页点击文物                       | 1.  进入文物简介页面<br> 2.  文物浏览量+1                                                                                                                                                                        | 1.  进入文物简介页面 <br> 2.  文物浏览量+1                                                                                                                                                                        |
| 主页点击退出登录                   | 回到登陆界面                                                                                                                                                                                                     | 回到登陆界面，账号密码清空                                                                                                                                                                                        |
| 主页显示                           | 文物列表正常显示，文 物列表中文物图片、文 物名称以及文物浏览量 正常显示。中间顶部正 常显示欢迎，用户名。 如果文物名在数据库中 位 null 则文物名显示为 未爬取到。                                                  | 文物列表正常显示，文 物列表中文物图片、文 物名称以及文物浏览量 正常显示。中间顶部正 常显示欢迎，用户名。 如果文物名在数据库中 位 null 则文物名显示为 未爬取到。                                                   |
| 主页点击搜索栏输入文字             | 输入文本后出现搜索提 示，显示包含输入文字 的文物名称                                                                                                                                                             | 输入文本后出现搜索提 示，显示包含输入文字 的文物名称                                                                                                                                                              |
| 主页搜索栏输入文字后点击搜索       | 进入搜索页面，并且底部文物名称均包含输入文字                                                                                                                                                                     | 进入搜索页面，并且底部文物名称均包含输入文字                                                                                                                                                                      |
| 主页点击用户头像                   | 跳转到用户主页                                                                                                                                                                                                   | 跳转到用户主页                                                                                                                                                                                                    |
| 个人中心显示                       | 显示账号、性别、年 龄、地址等信息。如果数据库中未保存年龄、性别、地址等信息则显示为未填写。                                                                                                                      | 显示账号、性别、年 龄、地址等信息。如果数据库中未保存年龄、性别、地址等信息则显示为未填写。                                                                                                                       |
| 个人主页点击修改个人信息           | 进入个人信息修改界面                                                                                                                                                                                             | 进入个人信息修改界面                                                                                                                                                                                              |
| 个人主页点击修改密码               | 进入修改密码界面                                                                                                                                                                                                 | 进入修改密码界面                                                                                                                                                                                                  |
| 个人信息修改页面点击性别           | 出现男、女、待选三栏可以进行选择                                                                                                                                                                                 | 出现男、女、待选三栏可以进行选择                                                                                                                                                                                  |
| 个人信息修改页面输入年龄           | 可以输入数字，无法输入其他内容                                                                                                                                                                                   | 可以输入数字，无法输入其他内容                                                                                                                                                                                    |
| 个人信息修改页面点击保存           | 保存填写的内容，未填写的保持原来的值。                                                                                                                                                                           | 保存填写的内容，未填写的保持原来的值。                                                                                                                                                                            |
| > 密码修改页面输                   | 1.  原密码与密码不同                                                                                                                                                                                             | 1.  原密码与密码不同                                                                                                                                                                                              |
| 密码修改页面输入不规范信息点击保存 | 1.原密码与密码不同提示密码错误无法修改<br>2. 新密码不符合注册密码要求提示相关内容                                                                                                                                | 1.原密码与密码不同提示密码错误无法修改<br>2. 新密码不符合注册密码要求提示相关内容                                                                                                                                 |
| 密码修改页面输入规范信息并点击保存 | 提示修改成功并且返回个人中心页面                                                                                                                                                                                 | 提示修改成功并且返回个人中心页面                                                                                                                                                                                  |
| 文物简介页面点击点赞按钮           | 1.点赞按钮为白色点击变黑<br>2.点赞按钮为黑色点击变白                                                                                                                                                             | 1.点赞按钮为白色点击变黑<br>2.点赞按钮为黑色点击变白                                                                                                                                                              |
| 文物简介页面显示                   | 文物图片，文物简介显示，如果数据库文物简介为空则显示未爬取到                                                                                                                                                     | 文物图片，文物简介显示，如果数据库文物简介为空则显示未爬取到                                                                                                                                                      |
| 文物简介页面点击评论               | 进入文物评论界面                                                                                                                                                                                                 | 进入文物评论界面                                                                                                                                                                                                  |
| 文物评论界面点击简介               | 进入文物简介页面                                                                                                                                                                                                 | 进入文物简介页面                                                                                                                                                                                                  |
| 文物评论                           | 1.评论为空不发送                                                                                                                                                                                                 | 1.  评论为空不发送                                                                                                                                                                                                |
| 文物评论界面输入评论点击发送       | 1.评论为空不发送<br>2. 评论存在评论发送成功并且显示在评论列表                                                                                                                                                    | 1.评论为空不发送<br>2. 评论存在评论发送成功并且显示在评论列表                                                                                                                                                     |
| 文物评论页面评论条目显示           | 显示评论昵称、时间以及内容                                                                                                                                                                                       | 成功显示评论人昵称，评论时间和评论内容                                                                                                                                                                            |


### （二）用例执行情况 

> 用例执行总数：34 通过用例数：34 未通过用例数：0 测试执行率：100%

> 测试用例效率：0%

## 四、测试结果 

### （一）测试用例通过率

| 总用例 | 未通过用例 | 未通过比率 |
| ------ | ---------- | ---------- |
| 34     | 0          | 0%         |

### （二）历史 bug 情况 

| Bug内容                    | 内容                                                 | 措施                                                      |
| -------------------------- | ---------------------------------------------------- | --------------------------------------------------------- |
| 主页第一次进入文物显示两次 | 多次调用initWenWuList方法                            | 优化逻辑使其只调用一次。                                  |
| 发送评论Toast提示异常      | Handler处理消息时没有break                           | Handler 中的 switch case 语句加入break                    |
| 数据库扩充后程序卡退       | 有些文物文物名或者文物简介爬取不完全。爬取到null报错 | 修改这些内容为空时设置默认值来修复bug                     |
| 登录闪退。                 | 数据库查询工作不能放在主线程进行                     | 数据库操作放进子线程进行                                  |
| App频繁闪退                | 数据库操作包含中文字符                               | 数据库 url加入后缀useUnicode=true&characterEncoding=UTF-8 |
| 发送评论失败。             | SQL语句写错。                                        | 字符串传参需要加单引号                                    |
| 年龄显示错                 | String 判等调用==                                    | String 判等调用 equals                                    |

### （三）现有问题
>
> 1.华为手机安装apk 可能被识别为诈骗应用无法安装。

## （四）风险分析 

### 设计风险 

> UI 界面并不美观，可能会使用户体验降低。

### 测试风险 

> 测试时间较短，可能有存在的 bug 未被发现。

## （五）项目评价 

> 软件质量：软件初步完成了需求分析所需要的功能，本次项目测试未发现影响系统运行的bug，可以进行交付使用。
