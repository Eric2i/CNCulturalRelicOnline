(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6325b614"],{ae85:function(e,n,t){},b39c:function(e,n,t){"use strict";t("ac1f"),t("00b4");var r=t("0499"),a=t("efff");t("fb6a"),t("d3b7"),t("25f0"),t("5319");function i(e,n){var t,r,a=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],i=/\\?(.?)/gi,o=function(e,n){return r[e]?r[e]():n},u=function(e,n){e=String(e);while(e.length<n)e="0"+e;return e};r={d:function(){return u(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return t.getDate()},l:function(){return a[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j(),n=e%10;return n<=3&&1==parseInt(e%100/10,10)&&(n=0),["st","nd","rd"][n-1]||"th"},w:function(){return t.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),n=new Date(r.Y(),0,1);return Math.round((e-n)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),n=new Date(e.getFullYear(),0,4);return u(1+Math.round((e-n)/864e5/7),2)},F:function(){return a[6+r.n()]},m:function(){return u(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return t.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=r.n(),n=r.W(),t=r.Y();return t+(12===e&&n<9?1:1===e&&n>9?-1:0)},Y:function(){return t.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return t.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*t.getUTCHours(),n=60*t.getUTCMinutes(),r=t.getUTCSeconds();return u(Math.floor((e+n+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return t.getHours()},h:function(){return u(r.g(),2)},H:function(){return u(r.G(),2)},i:function(){return u(t.getMinutes(),2)},s:function(){return u(t.getSeconds(),2)},u:function(){return u(1e3*t.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(r.Y(),0),n=Date.UTC(r.Y(),0),t=new Date(r.Y(),6),a=Date.UTC(r.Y(),6);return e-n!==t-a?1:0},O:function(){var e=t.getTimezoneOffset(),n=Math.abs(e);return(e>0?"-":"+")+u(100*Math.floor(n/60)+n%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-t.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,o)},r:function(){return"D, d M Y H:i:s O".replace(i,o)},U:function(){return t/1e3|0}};var s=function(e,n){return t=void 0===n?new Date:n instanceof Date?new Date(n):new Date(1e3*Math.floor(n)),e.replace(i,o)};return s(e,n)}var o=t("d722");function u(e,n){return e||n}n["a"]={checkRemote:function(e,n,t){var a={table:e.module,checktype:e.checktype,col:e.col};"update"==e.checktype&&(a.id=e.id),a[e.col]=n,r["a"].post(o["a"].checkField,a).then((function(e){e?t():t(new Error("内容重复了"))}))},checkCard:function(e,n,t,r,i){Object(a["c"])(n)||/^[1-9]([0-9]{14}|[0-9]{17})$/.test(n)?t():t(new Error(i.message?i.message:"请输入一个正确的身份证号"))},checkPhone:function(e,n,t,r,i){Object(a["c"])(n)||/^[0-9]{11}$/.test(n)?t():t(new Error(u(i.message,"请输入一个正确的手机号码")))},checkTel:function(e,n,t,r,i){Object(a["c"])(n)||/^[+]{0,1}(\d){1,4}[ ]{0,1}([-]{0,1}((\d)|[ ]){1,12})+$/.test(n)?t():t(new Error(u(i.message,"请输入正确的固定电话号码")))},checkMin:function(e,n,t,r,i){Object(a["c"])(n)&&0!==n||n>=e.value?t():t(new Error(u(i.message,"请输入不小于"+e.value+"值")))},checkMax:function(e,n,t,r,i){Object(a["c"])(n)&&0!==n||n<=e.value?t():t(new Error(u(i.message,"请输入不大于"+e.value+"值")))},checkMinlength:function(e,n,t,r,a){""==n||n.length>=e.value?t():t(new Error(u(a.message,"字符不小于"+e.value+"个字符")))},checkMaxlength:function(e,n,t,r,a){""==n||n.length<=e.value?t():t(new Error(u(a.message,"字符不大于"+e.value+"个字符")))},checkNumber:function(e,n,t,r,i){Object(a["c"])(n)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)?t():t(new Error(i.message?i.message:"请输入一个有效数字"))},getID:function(){return i("mdHi")+Math.floor(1e4*Math.random())},date:i}},c72e:function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"yuding-add"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix updt",attrs:{slot:"header"},slot:"header"},[t("el-page-header",{attrs:{content:"编辑预定"},on:{back:function(n){return e.$router.go(-1)}}})],1),t("div",{staticClass:"form-database-form"},[t("el-form",{ref:"formModel",attrs:{model:e.form,"label-width":"130px","status-icon":"","validate-on-rule-change":""}},[e.isRead?t("el-form-item",{attrs:{label:"线路编号",prop:"xianlubianhao"}},[e._v(" "+e._s(e.form.xianlubianhao)+" ")]):e._e(),e.isRead?t("el-form-item",{attrs:{label:"线路名称",prop:"xianlumingcheng"}},[e._v(" "+e._s(e.form.xianlumingcheng)+" ")]):e._e(),e.isRead?t("el-form-item",{attrs:{label:"出发地",prop:"chufadi"}},[e._v(" "+e._s(e.form.chufadi)+" ")]):e._e(),e.isRead?t("el-form-item",{attrs:{label:"途经地",prop:"tujingdi"}},[e._v(" "+e._s(e.form.tujingdi)+" ")]):e._e(),e.isRead?t("el-form-item",{attrs:{label:"终点",prop:"zhongdian"}},[e._v(" "+e._s(e.form.zhongdian)+" ")]):e._e(),e.isRead?t("el-form-item",{attrs:{label:"价格",prop:"jiage",rules:[{validator:e.rule.checkNumber,message:"输入一个有效数字"}]}},[e._v(" "+e._s(e.form.jiage)+" ")]):e._e(),t("el-form-item",{attrs:{label:"订单号",prop:"dingdanhao",rules:[{required:!0,message:"请填写订单号"}]}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"输入订单号"},model:{value:e.form.dingdanhao,callback:function(n){e.$set(e.form,"dingdanhao",n)},expression:"form.dingdanhao"}})],1),t("el-form-item",{attrs:{label:"预订时间",prop:"yudingshijian",required:"",rules:[{required:!0,message:"请填写预订时间"}]}},[t("el-date-picker",{attrs:{type:"datetime",editable:!1,"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:e.form.yudingshijian,callback:function(n){e.$set(e.form,"yudingshijian",n)},expression:"form.yudingshijian"}})],1),t("el-form-item",{attrs:{label:"预订人姓名",prop:"yudingrenxingming"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"输入预订人姓名"},model:{value:e.form.yudingrenxingming,callback:function(n){e.$set(e.form,"yudingrenxingming",n)},expression:"form.yudingrenxingming"}})],1),t("el-form-item",{attrs:{label:"联系方式",prop:"lianxifangshi"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"输入联系方式"},model:{value:e.form.lianxifangshi,callback:function(n){e.$set(e.form,"lianxifangshi",n)},expression:"form.lianxifangshi"}})],1),t("el-form-item",{attrs:{label:"备注",prop:"beizhu"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.form.beizhu,callback:function(n){e.$set(e.form,"beizhu",n)},expression:"form.beizhu"}})],1),t("el-form-item",{attrs:{label:"预订人",prop:"yudingren"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{readonly:""},model:{value:e.form.yudingren,callback:function(n){e.$set(e.form,"yudingren",n)},expression:"form.yudingren"}})],1),e.btnText?t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.btnText))])],1):e._e()],1)],1)])],1)},a=[],i=(t("a9e3"),t("d722")),o=t("b39c"),u=t("efff"),s={name:"yuding-add",data:function(){return{rule:o["a"],loading:!1,form:{xianlubianhao:"",xianlumingcheng:"",chufadi:"",tujingdi:"",zhongdian:"",jiage:"",dingdanhao:o["a"].getID(),yudingshijian:"",yudingrenxingming:"",lianxifangshi:"",beizhu:"",yudingren:this.$store.state.user.session.username,lvyouxianluid:0,iszf:"否"}}},watch:{id:{handler:function(){this.loadInfo()}}},props:{isRead:{type:Boolean,default:!0},btnText:{type:String,default:"提交"},id:{type:[String,Number],required:!0}},computed:{},methods:{submit:function(){var e=this;this.$refs.formModel.validate().then((function(n){if(!e.loading){e.loading=!0;var t=e.form;e.$post(i["a"].yuding.update,t).then((function(n){e.loading=!1,n.code==i["a"].code.OK?(e.$message.success("添加成功"),e.$emit("success",n.data),e.$refs.formModel.resetFields(),e.$router.go(-1)):e.$message.error(n.msg)})).catch((function(n){e.loading=!1,e.$message.error(n.message)}))}})).catch((function(e){console.log(e.message)}))},loadInfo:function(){var e=this;this.loading=!0;this.form;this.$post(i["a"].yuding.edit,{id:this.id}).then((function(n){e.loading=!1,n.code==i["a"].code.OK?(Object(u["d"])(e,n.data),e.form=n.data.mmm):(e.$message.error(n.msg),e.$router.go(-1))})).catch((function(n){e.$message.error(n.message),e.$router.go(-1)}))}},created:function(){this.loadInfo()},mounted:function(){},destroyed:function(){}},c=s,l=(t("d542"),t("2877")),d=Object(l["a"])(c,r,a,!1,null,"18bf7c25",null);n["default"]=d.exports},d542:function(e,n,t){"use strict";t("ae85")}}]);