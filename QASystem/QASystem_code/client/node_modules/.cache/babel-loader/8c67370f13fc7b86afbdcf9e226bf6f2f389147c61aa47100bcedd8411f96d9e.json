{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'ChatGPT',\n  data() {\n    return {\n      question: \"\",\n      count: 0,\n      click: false,\n      chatRecord: [{\n        sender: \"小助手 :\",\n        message: \"您好！我是知识问答系统认知小模型，能够学习和理解人类的语言，进行多轮对话，回答相关问题，高效便捷地帮助您获取信息、知识和灵感。\",\n        image: \"\"\n      }]\n    };\n  },\n  methods: {\n    chat() {\n      this.click = true;\n      let url = 'http://127.0.0.1:8080/request?question=' + this.question;\n      //let url = 'https://chat-bot-29072-7-1316779917.sh.run.tcloudbase.com/request?question=' + this.question;\n      var you = {\n        sender: \"YOU:\",\n        message: this.question\n      };\n      var ai = {\n        sender: \"小助手:\",\n        message: \"\"\n      };\n      this.chatRecord.push(you);\n      this.chatRecord.push(ai);\n      this.question = \"\";\n      let es = new EventSource(url);\n      es.addEventListener('message', event => {\n        console.log(event.data);\n        this.count++;\n        if (this.count > 2) {\n          if (event.data.toString() === \"Answer Done!\") {\n            es.close();\n            this.count = 0;\n            this.click = false;\n          } else {\n            var ai = this.chatRecord[this.chatRecord.length - 1];\n            ai.message += event.data;\n            this.chatRecord[this.chatRecord.length - 1] = ai;\n          }\n        }\n      });\n    },\n    autoAnser1() {\n      this.click = true;\n      var you = {\n        sender: \"YOU:\",\n        message: \"介绍一下克利夫兰博物馆\"\n      };\n      var ai = {\n        sender: \"小助手:\",\n        message: \"克利夫兰博物馆的艺术品收藏非常丰富，其中的一些藏品属于世界级别。例如，该博物馆拥有美国最大的亚洲艺术收藏之一，以及美国最著名的欧洲绘画和雕塑收藏之一。此外，博物馆还拥有古希腊、罗马和埃及艺术品、非洲艺术品、印第安艺术品和古代近东艺术品等。克利夫兰博物馆还是一个文化中心，经常举办各种艺术展览、讲座、音乐会和表演活动等，以及提供教育计划和社区项目，为游客提供了一个深入了解不同文化和艺术领域的机会。克利夫兰博物馆的建筑本身也是一个艺术品，由哈佛大学毕业生考特·格里瑟姆设计，是一座现代化的建筑，拥有充足的空间来展示丰富的藏品。博物馆的设计体现了现代化与传统元素的融合，如大理石、青铜和玻璃等材料的运用，使得博物馆成为了克利夫兰市的地标之一。\",\n        image: \"https://s1.ax1x.com/2022/12/30/pS9keyt.jpg\"\n      };\n      this.chatRecord.push(you);\n      this.chatRecord.push(ai);\n      this.question = \"\";\n      this.click = false;\n    },\n    autoAnser2() {\n      this.click = true;\n      var you = {\n        sender: \"YOU:\",\n        message: \"介绍一下克利夫兰博物馆\"\n      };\n      var ai = {\n        sender: \"小助手:\",\n        message: \"克利夫兰博物馆（Cleveland Museum of Art）是位于美国俄亥俄州克利夫兰市的一家艺术博物馆，成立于1913年，是美国最著名的博物馆之一。该博物馆拥有来自全球各地、涵盖数千年历史的100,000多件艺术品，其中包括绘画、雕塑、陶瓷、古代文物、现代艺术和摄影等多个领域的精品。\"\n      };\n      this.chatRecord.push(you);\n      this.chatRecord.push(ai);\n      this.question = \"\";\n      this.click = false;\n    },\n    autoAnser3() {\n      this.click = true;\n      var you = {\n        sender: \"YOU:\",\n        message: \"介绍一下克利夫兰博物馆\"\n      };\n      var ai = {\n        sender: \"小助手:\",\n        message: \"克利夫兰博物馆（Cleveland Museum of Art）是位于美国俄亥俄州克利夫兰市的一家艺术博物馆，成立于1913年，是美国最著名的博物馆之一。该博物馆拥有来自全球各地、涵盖数千年历史的100,000多件艺术品，其中包括绘画、雕塑、陶瓷、古代文物、现代艺术和摄影等多个领域的精品。\"\n      };\n      this.chatRecord.push(you);\n      this.chatRecord.push(ai);\n      this.question = \"\";\n      this.click = false;\n    },\n    autoAnser4() {\n      this.click = true;\n      var you = {\n        sender: \"YOU:\",\n        message: \"介绍一下克利夫兰博物馆\"\n      };\n      var ai = {\n        sender: \"小助手:\",\n        message: \"克利夫兰博物馆（Cleveland Museum of Art）是位于美国俄亥俄州克利夫兰市的一家艺术博物馆，成立于1913年，是美国最著名的博物馆之一。该博物馆拥有来自全球各地、涵盖数千年历史的100,000多件艺术品，其中包括绘画、雕塑、陶瓷、古代文物、现代艺术和摄影等多个领域的精品。\"\n      };\n      this.chatRecord.push(you);\n      this.chatRecord.push(ai);\n      this.question = \"\";\n      this.click = false;\n    }\n  }\n};","map":{"version":3,"names":["name","data","question","count","click","chatRecord","sender","message","image","methods","chat","url","you","ai","push","es","EventSource","addEventListener","event","console","log","toString","close","length","autoAnser1","autoAnser2","autoAnser3","autoAnser4"],"sources":["D:\\2023\\CNCulturalRelicOnline\\QASystem\\QASystem_code\\client\\src\\components\\ChatGPT1.vue"],"sourcesContent":["<!-- views/chatgpt.vue -->\r\n\r\n<template>\r\n    <div class=\"chatbot-layout\" style=\"height: 100%;\">\r\n        <div style=\"height: 100%;\">\r\n            <!-- 顶部 -->\r\n            <div\r\n                style=\"background-image: url(https://s1.ax1x.com/2022/12/30/pS9keyt.jpg);background-size:auto;margin-bottom: 5px;\">\r\n                <h1>智能问答小助手</h1>\r\n            </div>\r\n\r\n            <div>\r\n                <div\r\n                    style=\"background-image: url(https://s1.ax1x.com/2022/12/30/pS9keyt.jpg);background-size: 530% 100% ;text-align: center;height: 100%;width: 260px;\">\r\n                    <!-- 添加一个轮播图模块 -->\r\n                    <el-carousel :interval=\"4000\" type=\"card\" height=\"200px\">\r\n                        <el-carousel-item>\r\n                            <div\r\n                                style=\"width: 150px;height: 150px;margin: 50px auto;background-image: url(https://s1.ax1x.com/2023/05/08/p90QnsI.jpg);background-size: 100% 100%;\">\r\n                            </div>\r\n                        </el-carousel-item>\r\n                        <el-carousel-item>\r\n                            <div\r\n                                style=\"width: 150px;height: 150px;margin: 50px auto;background-image: url(https://s1.ax1x.com/2023/05/08/p90QmQA.jpg);background-size: 100% 100%;\">\r\n                            </div>\r\n                        </el-carousel-item>\r\n                        <el-carousel-item>\r\n                            <div\r\n                                style=\"width: 150px;height: 150px;margin: 50px auto;background-image: url(https://s1.ax1x.com/2023/05/08/p90QVRH.jpg);background-size: 100% 100%;\">\r\n                            </div>\r\n                        </el-carousel-item>\r\n                        <el-carousel-item>\r\n                            <div\r\n                                style=\"width: 150px;height: 150px;margin: 50px auto;background-image: url(https://s1.ax1x.com/2023/05/08/p90QEJe.jpg);background-size: 100% 100%;\">\r\n                            </div>\r\n                        </el-carousel-item>\r\n                    </el-carousel>\r\n\r\n                    <div style=\"width: 15px;margin: 100px auto; font-size: 30px; \">\r\n                        输入文字点击提交提问\r\n                    </div>\r\n                </div>\r\n                <el-container>\r\n                    <el-main style=\"background-color:#FFFFFF;height:100%;background-image: ;align-items: stretch;box-sizing: border-box;\r\n                    display: flex;flex-basis: 0%;flex-direction: column;flex-grow: 1;flex-shrink: 1;overflow-x: hidden;position: relative;\">\r\n\r\n                        <el-descriptions column=1 size=\"small\" border=\"true\" style=\"width: 100%;height: 100vh;\">\r\n                            <div v-for=\"item in chatRecord\" :key=\"item\">\r\n                                <el-descriptions-item :label=\"item.sender\" label-align=\"center\">\r\n                                    <span v-html=item.message></span>\r\n                                    <br>\r\n                                    <img v-if=\"item.image\" :src=\"item.image\" style=\"display: block; max-width: 300px; max-height: 300px;margin: auto;\"/>\r\n                                </el-descriptions-item>\r\n                            </div>\r\n                        </el-descriptions>\r\n\r\n                        <div style=\"bottom: 0px;box-sizing: border-box;display: block;left: 0px;bottom: 0px; padding-top: 8px;position: absolute;\r\n                                width: 100%;background-color: rgba(0, 0, 0, 0);background-image: linear-gradient();margin: auto;\">\r\n\r\n                            <div>\r\n                                <el-button type=\"primary\" @click=\"autoAnser1()\" style=\"margin: 5px 5px;width:200px;\"\r\n                                size=\"large\">介绍一下克利夫兰博物馆</el-button>\r\n                                <el-button type=\"primary\" @click=\"autoAnser2()\" style=\"margin: 5px 5px;width:200px;\"\r\n                                size=\"large\">文物保护法是什么？</el-button>\r\n                                <el-button type=\"primary\" @click=\"autoAnser3()\" style=\"margin: 5px 5px;width:200px;\"\r\n                                size=\"large\">文物保护法是什么？</el-button>\r\n                                <el-button type=\"primary\" @click=\"autoAnser4()\" style=\"margin: 5px 5px;width:200px;\"\r\n                                size=\"large\">文物保护法是什么？</el-button>\r\n                            </div>\r\n\r\n                            <div style=\"width: 600px;margin: auto;\">\r\n\r\n                                <el-input v-model=\"question\" type=\"textarea\" placeholder=\"请输入你的问题\"\r\n                                    :autosize=\"{ minRows: 1, maxRows: 7 }\" resize=\"none\" show-word-limit maxlength=\"300\" />\r\n                                <div style=\"text-align: right;\">\r\n                                    <el-button color=\"#8d3d45\" @click=\"chat\" plain style=\"margin: 5px 0;width:100px;\"\r\n                                        size=\"large\" :disabled=\"click\">提交</el-button>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        \r\n                    </el-main>\r\n                    \r\n                </el-container>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: 'ChatGPT',\r\n    data() {\r\n        return {\r\n            question: \"\",\r\n            count: 0,\r\n            click: false,\r\n            chatRecord: [{ sender: \"小助手 :\", \r\n            message: \"您好！我是知识问答系统认知小模型，能够学习和理解人类的语言，进行多轮对话，回答相关问题，高效便捷地帮助您获取信息、知识和灵感。\" ,\r\n            image:\"\"}]\r\n        }\r\n    },\r\n    methods: {\r\n        chat() {\r\n            this.click = true;\r\n            let url = 'http://127.0.0.1:8080/request?question=' + this.question;\r\n            //let url = 'https://chat-bot-29072-7-1316779917.sh.run.tcloudbase.com/request?question=' + this.question;\r\n            var you = { sender: \"YOU:\", message: this.question };\r\n            var ai = { sender: \"小助手:\", message: \"\" };\r\n            this.chatRecord.push(you);\r\n            this.chatRecord.push(ai);\r\n            this.question = \"\";\r\n            let es = new EventSource(url);\r\n            es.addEventListener('message', event => {\r\n                console.log(event.data);\r\n                this.count++;\r\n                if (this.count > 2) {\r\n                    if (event.data.toString() === \"Answer Done!\") {\r\n                        es.close();\r\n                        this.count = 0;\r\n                        this.click = false;\r\n                    } else {\r\n                        var ai = this.chatRecord[this.chatRecord.length - 1]\r\n                        ai.message += event.data;\r\n                        this.chatRecord[this.chatRecord.length - 1] = ai;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        autoAnser1() {\r\n            this.click = true;\r\n            var you = { sender: \"YOU:\", message: \"介绍一下克利夫兰博物馆\" };\r\n            var ai = { sender: \"小助手:\"\r\n                        , message: \"克利夫兰博物馆的艺术品收藏非常丰富，其中的一些藏品属于世界级别。例如，该博物馆拥有美国最大的亚洲艺术收藏之一，以及美国最著名的欧洲绘画和雕塑收藏之一。此外，博物馆还拥有古希腊、罗马和埃及艺术品、非洲艺术品、印第安艺术品和古代近东艺术品等。克利夫兰博物馆还是一个文化中心，经常举办各种艺术展览、讲座、音乐会和表演活动等，以及提供教育计划和社区项目，为游客提供了一个深入了解不同文化和艺术领域的机会。克利夫兰博物馆的建筑本身也是一个艺术品，由哈佛大学毕业生考特·格里瑟姆设计，是一座现代化的建筑，拥有充足的空间来展示丰富的藏品。博物馆的设计体现了现代化与传统元素的融合，如大理石、青铜和玻璃等材料的运用，使得博物馆成为了克利夫兰市的地标之一。\"\r\n                        ,image:\"https://s1.ax1x.com/2022/12/30/pS9keyt.jpg\"  };\r\n            this.chatRecord.push(you);\r\n            this.chatRecord.push(ai);\r\n            this.question = \"\";\r\n            this.click = false;\r\n        },\r\n        autoAnser2() {\r\n            this.click = true;\r\n            var you = { sender: \"YOU:\", message: \"介绍一下克利夫兰博物馆\" };\r\n            var ai = { sender: \"小助手:\", message: \"克利夫兰博物馆（Cleveland Museum of Art）是位于美国俄亥俄州克利夫兰市的一家艺术博物馆，成立于1913年，是美国最著名的博物馆之一。该博物馆拥有来自全球各地、涵盖数千年历史的100,000多件艺术品，其中包括绘画、雕塑、陶瓷、古代文物、现代艺术和摄影等多个领域的精品。\" };\r\n            this.chatRecord.push(you);\r\n            this.chatRecord.push(ai);\r\n            this.question = \"\";\r\n            this.click = false;\r\n        },\r\n        autoAnser3() {\r\n            this.click = true;\r\n            var you = { sender: \"YOU:\", message: \"介绍一下克利夫兰博物馆\" };\r\n            var ai = { sender: \"小助手:\", message: \"克利夫兰博物馆（Cleveland Museum of Art）是位于美国俄亥俄州克利夫兰市的一家艺术博物馆，成立于1913年，是美国最著名的博物馆之一。该博物馆拥有来自全球各地、涵盖数千年历史的100,000多件艺术品，其中包括绘画、雕塑、陶瓷、古代文物、现代艺术和摄影等多个领域的精品。\" };\r\n            this.chatRecord.push(you);\r\n            this.chatRecord.push(ai);\r\n            this.question = \"\";\r\n            this.click = false;\r\n        },\r\n        autoAnser4() {\r\n            this.click = true;\r\n            var you = { sender: \"YOU:\", message: \"介绍一下克利夫兰博物馆\" };\r\n            var ai = { sender: \"小助手:\", message: \"克利夫兰博物馆（Cleveland Museum of Art）是位于美国俄亥俄州克利夫兰市的一家艺术博物馆，成立于1913年，是美国最著名的博物馆之一。该博物馆拥有来自全球各地、涵盖数千年历史的100,000多件艺术品，其中包括绘画、雕塑、陶瓷、古代文物、现代艺术和摄影等多个领域的精品。\" };\r\n            this.chatRecord.push(you);\r\n            this.chatRecord.push(ai);\r\n            this.question = \"\";\r\n            this.click = false;\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}