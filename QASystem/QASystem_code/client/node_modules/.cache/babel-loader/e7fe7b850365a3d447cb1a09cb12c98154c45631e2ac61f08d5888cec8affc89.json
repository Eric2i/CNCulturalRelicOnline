{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'ChatGPT',\n  data() {\n    return {\n      question: \"\",\n      count: 0,\n      click: false,\n      chatRecord: [{\n        sender: \"小助手 :\",\n        message: \"您好！我是知识问答系统认知小模型，能够学习和理解人类的语言，进行多轮对话，回答相关问题，高效便捷地帮助您获取信息、知识和灵感。\",\n        image: \"\"\n      }]\n    };\n  },\n  methods: {\n    chat() {\n      this.click = true;\n      let url = 'http://localhost:8099/request?question=' + this.question;\n      //let url = 'https://chat-bot-29072-7-1316779917.sh.run.tcloudbase.com/request?question=' + this.question;\n      var you = {\n        sender: \"YOU:\",\n        message: this.question\n      };\n      var ai = {\n        sender: \"小助手:\",\n        message: \"\"\n      };\n      this.chatRecord.push(you);\n      this.chatRecord.push(ai);\n      this.question = \"\";\n      let es = new EventSource(url);\n      es.addEventListener('message', event => {\n        console.log(event.data);\n        this.count++;\n        if (this.count > 2) {\n          if (event.data.toString() === \"Answer Done!\") {\n            es.close();\n            this.count = 0;\n            this.click = false;\n          } else {\n            var ai = this.chatRecord[this.chatRecord.length - 1];\n            ai.message += event.data;\n            this.chatRecord[this.chatRecord.length - 1] = ai;\n          }\n        }\n      });\n    },\n    autoAnser1() {\n      this.click = true;\n      var you = {\n        sender: \"YOU:\",\n        message: \"介绍一下克利夫兰博物馆\"\n      };\n      var ai = {\n        sender: \"小助手:\",\n        message: \"克利夫兰艺术博物馆是美国最重要的美术馆和博物馆。位于俄亥俄州克里夫兰市中心以东克利夫兰大学圈地区。1913年成立，艺术作品超过43000件，其永久性画廊是1916年建设的。它以其广泛收集前哥伦布艺术，中世纪欧洲、亚洲和印度的艺术而出名。博物馆收藏的亚洲艺术品是美国拥有最好的。美国克利夫兰艺术博物馆克里夫兰艺术博物馆，成立于1913年。\",\n        image: \"http://ocr-museum.cn/api/upload/20210423/36b5b579-f6a3-4e58-8a32-e55bbbc38430.webp\"\n      };\n      this.chatRecord.push(you);\n      this.chatRecord.push(ai);\n      this.question = \"\";\n      this.click = false;\n    },\n    autoAnser2() {\n      this.click = true;\n      var you = {\n        sender: \"YOU:\",\n        message: \"美国的主要博物馆\"\n      };\n      var ai = {\n        sender: \"小助手:\",\n        message: \"美国主要的博物馆有：\\n1.圣地亚哥艺术博物馆\\n2.克利夫兰博物馆\\n3.纽约现代艺术博物馆\\n4.大都会艺术博物馆\",\n        image: \"http://ocr-museum.cn/api/upload/20210423/d3f448d9-9ccf-4e26-84f8-c2e4828b0b6a.jpg\"\n      };\n      this.chatRecord.push(you);\n      this.chatRecord.push(ai);\n      this.question = \"\";\n      this.click = false;\n    },\n    autoAnser3() {\n      this.click = true;\n      var you = {\n        sender: \"YOU:\",\n        message: \"世界上著名的博物馆\"\n      };\n      var ai = {\n        sender: \"小助手:\",\n        message: \"以下是世界上最著名的十大博物馆：\\n1.大英博物馆（British Museum）\\n2.卢浮宫（Musée du Louvre）\\n3.大都会艺术博物馆（Metropolitan Museum of Art）\\n4.爱荷华州艺术博物馆（Des Moines Art Center）\\n5.索菲亚王后博物馆（Queen Sofia Museum）\\n6.南京博物院：\\n7.国立东京博物馆（National Museum of Tokyo）\\n8.史密森尼国家自然历史博物馆（Smithsonian National Museum of Natural History）\\n9.国立西班牙考古博物馆（National Archaeological Museum of Spain）：位于西班牙马德里，是世界上最重要的考古博物馆之一，收藏了大量古代西班牙和古罗马文物。\\n10.普拉多博物馆（Prado Museum）\",\n        image: \"https://s1.ax1x.com/2023/05/11/p9spam4.jpg\"\n      };\n      this.chatRecord.push(you);\n      this.chatRecord.push(ai);\n      this.question = \"\";\n      this.click = false;\n    },\n    autoAnser4() {\n      this.click = true;\n      var you = {\n        sender: \"YOU:\",\n        message: \"文物保护法是什么？\"\n      };\n      var ai = {\n        sender: \"小助手:\",\n        message: \"《中华人民共和国文物保护法》是为了加强对文物的保护，继承中华民族优秀的历史文化遗产，促进科学研究工作，进行爱国主义和革命传统教育，建设社会主义精神文明和物质文明，而制定的法规。\\n该法规由第五届全国人民代表大会常务委员会第二十五次会议于1982年11月19日通过，自1982年11月19日起施行。当前版本为2015年4月24日第十二届全国人民代表大会常务委员会第十四次会议修改。\\n2017年11月4日，第十二届全国人民代表大会常务委员会第三十次会议决定，通过对《中华人民共和国文物保护法》作出修改。\",\n        image: \"https://s1.ax1x.com/2023/05/11/p9sp61K.jpg\"\n      };\n      this.chatRecord.push(you);\n      this.chatRecord.push(ai);\n      this.question = \"\";\n      this.click = false;\n    }\n  }\n};","map":{"version":3,"names":["name","data","question","count","click","chatRecord","sender","message","image","methods","chat","url","you","ai","push","es","EventSource","addEventListener","event","console","log","toString","close","length","autoAnser1","autoAnser2","autoAnser3","autoAnser4"],"sources":["D:\\2023\\CNCulturalRelicOnline\\QASystem\\QASystem_code\\client\\src\\components\\ChatGPT.vue"],"sourcesContent":["<!-- views/chatgpt.vue -->\n\n<template>\n    <div class=\"chatbot-layout\" style=\"height: 100%; \">\n        <el-container style=\"height: 100%;\">\n            <!-- 顶部 -->\n            <el-header\n                style=\"background-image: url(https://s1.ax1x.com/2022/12/30/pS9keyt.jpg);background-size:auto;margin-bottom: 5px;\">\n                <h1>智能问答小助手</h1>\n            </el-header>\n\n            <el-container>\n                <el-aside\n                    style=\"background-image: url(https://s1.ax1x.com/2022/12/30/pS9keyt.jpg);background-size: 530% 100% ;text-align: center;height: 100%;\">\n                    <!-- 添加一个轮播图模块 -->\n                    <el-carousel :interval=\"4000\" type=\"card\" height=\"200px\">\n                        <el-carousel-item>\n                            <p>弓箭手的戒指</p>\n                            <div\n                                style=\"width: 150px;height: 150px;margin: auto;background-image: url(http://ocr-museum.cn/api/upload/20210423/18394733-f470-4ed3-a748-fab7b5c676f9.jpg);background-size: 100% 100%;\">\n                            </div>\n                        </el-carousel-item>\n                        <el-carousel-item>\n                            <p>有盖的芯片香盒</p>\n                            <div\n                                style=\"width: 150px;height: 150px;margin: auto;background-image: url(http://ocr-museum.cn/api/upload/20210423/4f2d65a5-9e55-4e3e-af65-2f886dcd1e88.jpg);background-size: 100% 100%;\">\n                            </div>\n                        </el-carousel-item>\n                        <el-carousel-item>\n                            <p>多乳博局式鏡</p>\n                            <div\n                                style=\"width: 150px;height: 150px;margin: auto;background-image: url(http://ocr-museum.cn/api/upload/20210423/3c57af67-5b6e-4a65-8336-49558af26245.jpg);background-size: 100% 100%;\">\n                            </div>\n                        </el-carousel-item>\n                        <el-carousel-item>\n                            <p>翡翠西瓜</p>\n                            <div\n                                style=\"width: 150px;height: 150px;margin: auto;background-image: url(http://ocr-museum.cn/api/upload/20210423/844e6723-be65-4ee9-b521-67b5cbd04eaa.jpg);background-size: 100% 100%;\">\n                            </div>\n                        </el-carousel-item>\n                    </el-carousel>\n\n                    <!-- openai官网的超链接 -->\n                    <el-link href=\"http://ocr-museum.cn/#/jingdianxinxidetail?id=17\" target=\"_blank\" style=\"margin: 200px 0 0 0 ; font-size: 30px; \">克利夫兰博物馆</el-link>\n                    <br>\n                    <el-link href=\"http://ocr-museum.cn/#/jingdianxinxidetail?id=17\" target=\"_blank\" style=\"margin: 20px 0 0 0; font-size: 30px; \">纽约现代艺术博物馆</el-link>\n                    <br>\n                    <el-link href=\"http://ocr-museum.cn/#/jingdianxinxidetail?id=15\" target=\"_blank\" style=\"margin: 20px 0 0 0; font-size: 30px; \">比利时皇家美术馆</el-link>\n                    <br>\n                    <el-link href=\"http://ocr-museum.cn/#/jingdianxinxidetail?id=7\" target=\"_blank\" style=\"margin: 20px 0 200px 0; font-size: 30px; \">大英博物馆</el-link>\n                    <br>\n                    <el-link href=\"http://ocr-museum.cn/#/index\" target=\"_blank\" style=\"margin: 20px 0 200px 0; font-size: 30px; \">返回首页</el-link>\n\n                </el-aside>\n                <el-container style=\"height: 100%;\">\n                    <el-main\n                        style=\"background-color:#FFFFFF;height:100%;background-image: ;align-items: stretch;box-sizing: border-box;\n                    display: flex;flex-basis: 0%;flex-direction: column;flex-grow: 1;flex-shrink: 1;overflow-x: hidden;position: relative;\">\n\n                        <el-descriptions column=1 size=\"small\" border=\"true\" style=\"width: 100%;height: 70vh;\">\n                            <div v-for=\"item in chatRecord\" :key=\"item\">\n                                <el-descriptions-item :label=\"item.sender\" label-align=\"center\">\n                                    <span v-html=item.message style=\"white-space: pre-line;\"></span>\n                                    <br>\n                                    <img v-if=\"item.image\" :src=\"item.image\"\n                                        style=\"display: block; max-width: 300px; max-height: 300px;margin: auto;\" />\n                                </el-descriptions-item>\n                            </div>\n                        </el-descriptions>\n\n                    </el-main>\n\n                    <el-footer>\n                        <div\n                            style=\"bottom: 0px;box-sizing: border-box;display: inline-block;left: 0px;bottom: 0px; padding-top: 8px;position: relative;\n                                width: 100%;background-color: rgba(0, 0, 0, 0);background-image: linear-gradient();margin: auto;\">\n\n                            <div>\n                                <el-button type=\"primary\" @click=\"autoAnser1()\" style=\"margin: 5px 5px;width:200px;\"\n                                    size=\"large\">介绍一下克利夫兰博物馆</el-button>\n                                <el-button type=\"primary\" @click=\"autoAnser2()\" style=\"margin: 5px 5px;width:200px;\"\n                                    size=\"large\">克利夫兰博物馆主要藏品</el-button>\n                                <el-button type=\"primary\" @click=\"autoAnser3()\" style=\"margin: 5px 5px;width:200px;\"\n                                    size=\"large\">世界上著名的博物馆</el-button>\n                                <el-button type=\"primary\" @click=\"autoAnser4()\" style=\"margin: 5px 5px;width:200px;\"\n                                    size=\"large\">文物保护法是什么？</el-button>\n                            </div>\n\n                            <div style=\"width: 600px;margin: auto;\">\n\n                                <el-input v-model=\"question\" type=\"textarea\" placeholder=\"请输入你的问题\"\n                                    :autosize=\"{ minRows: 1, maxRows: 7 }\" resize=\"none\" show-word-limit maxlength=\"300\" />\n                                <div style=\"text-align: right;\">\n                                    <el-button color=\"#8d3d45\" @click=\"chat\" plain style=\"margin: 5px 0;width:100px;\"\n                                        size=\"large\" :disabled=\"click\">提交</el-button>\n                                </div>\n                            </div>\n\n                        </div>\n                    </el-footer>\n\n                </el-container>\n            </el-container>\n        </el-container>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: 'ChatGPT',\n    data() {\n        return {\n            question: \"\",\n            count: 0,\n            click: false,\n            chatRecord: [{\n                sender: \"小助手 :\",\n                message: \"您好！我是知识问答系统认知小模型，能够学习和理解人类的语言，进行多轮对话，回答相关问题，高效便捷地帮助您获取信息、知识和灵感。\",\n                image: \"\"\n            }]\n        }\n    },\n    methods: {\n        chat() {\n            this.click = true;\n            let url = 'http://localhost:8099/request?question=' + this.question;\n            //let url = 'https://chat-bot-29072-7-1316779917.sh.run.tcloudbase.com/request?question=' + this.question;\n            var you = { sender: \"YOU:\", message: this.question };\n            var ai = { sender: \"小助手:\", message: \"\" };\n            this.chatRecord.push(you);\n            this.chatRecord.push(ai);\n            this.question = \"\";\n            let es = new EventSource(url);\n            es.addEventListener('message', event => {\n                console.log(event.data);\n                this.count++;\n                if (this.count > 2) {\n                    if (event.data.toString() === \"Answer Done!\") {\n                        es.close();\n                        this.count = 0;\n                        this.click = false;\n                    } else {\n                        var ai = this.chatRecord[this.chatRecord.length - 1]\n                        ai.message += event.data;\n                        this.chatRecord[this.chatRecord.length - 1] = ai;\n                    }\n                }\n            });\n        },\n        autoAnser1() {\n            this.click = true;\n            var you = { sender: \"YOU:\", message: \"介绍一下克利夫兰博物馆\" };\n            var ai = {\n                sender: \"小助手:\"\n                , message: \"克利夫兰艺术博物馆是美国最重要的美术馆和博物馆。位于俄亥俄州克里夫兰市中心以东克利夫兰大学圈地区。1913年成立，艺术作品超过43000件，其永久性画廊是1916年建设的。它以其广泛收集前哥伦布艺术，中世纪欧洲、亚洲和印度的艺术而出名。博物馆收藏的亚洲艺术品是美国拥有最好的。美国克利夫兰艺术博物馆克里夫兰艺术博物馆，成立于1913年。\"\n                , image: \"http://ocr-museum.cn/api/upload/20210423/36b5b579-f6a3-4e58-8a32-e55bbbc38430.webp\"\n            };\n            this.chatRecord.push(you);\n            this.chatRecord.push(ai);\n            this.question = \"\";\n            this.click = false;\n        },\n        autoAnser2() {\n            this.click = true;\n            var you = { sender: \"YOU:\", message: \"美国的主要博物馆\" };\n            var ai = {\n                sender: \"小助手:\"\n                , message: \"美国主要的博物馆有：\\n1.圣地亚哥艺术博物馆\\n2.克利夫兰博物馆\\n3.纽约现代艺术博物馆\\n4.大都会艺术博物馆\"\n                , image: \"http://ocr-museum.cn/api/upload/20210423/d3f448d9-9ccf-4e26-84f8-c2e4828b0b6a.jpg\"\n            };\n            this.chatRecord.push(you);\n            this.chatRecord.push(ai);\n            this.question = \"\";\n            this.click = false;\n        },\n        autoAnser3() {\n            this.click = true;\n            var you = { sender: \"YOU:\", message: \"世界上著名的博物馆\" };\n            var ai = {\n                sender: \"小助手:\"\n                , message: \"以下是世界上最著名的十大博物馆：\\n1.大英博物馆（British Museum）\\n2.卢浮宫（Musée du Louvre）\\n3.大都会艺术博物馆（Metropolitan Museum of Art）\\n4.爱荷华州艺术博物馆（Des Moines Art Center）\\n5.索菲亚王后博物馆（Queen Sofia Museum）\\n6.南京博物院：\\n7.国立东京博物馆（National Museum of Tokyo）\\n8.史密森尼国家自然历史博物馆（Smithsonian National Museum of Natural History）\\n9.国立西班牙考古博物馆（National Archaeological Museum of Spain）：位于西班牙马德里，是世界上最重要的考古博物馆之一，收藏了大量古代西班牙和古罗马文物。\\n10.普拉多博物馆（Prado Museum）\"\n                , image: \"https://s1.ax1x.com/2023/05/11/p9spam4.jpg\"\n            };\n            this.chatRecord.push(you);\n            this.chatRecord.push(ai);\n            this.question = \"\";\n            this.click = false;\n        },\n        autoAnser4() {\n            this.click = true;\n            var you = { sender: \"YOU:\", message: \"文物保护法是什么？\" };\n            var ai = {\n                sender: \"小助手:\"\n                , message: \"《中华人民共和国文物保护法》是为了加强对文物的保护，继承中华民族优秀的历史文化遗产，促进科学研究工作，进行爱国主义和革命传统教育，建设社会主义精神文明和物质文明，而制定的法规。\\n该法规由第五届全国人民代表大会常务委员会第二十五次会议于1982年11月19日通过，自1982年11月19日起施行。当前版本为2015年4月24日第十二届全国人民代表大会常务委员会第十四次会议修改。\\n2017年11月4日，第十二届全国人民代表大会常务委员会第三十次会议决定，通过对《中华人民共和国文物保护法》作出修改。\"\n                , image: \"https://s1.ax1x.com/2023/05/11/p9sp61K.jpg\"\n            };\n            this.chatRecord.push(you);\n            this.chatRecord.push(ai);\n            this.question = \"\";\n            this.click = false;\n        }\n    }\n}\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}