{"ast":null,"code":"import { watch, isRef } from 'vue';\nconst useRestoreActive = (toggle, initialFocus) => {\n  let previousActive;\n  watch(() => toggle.value, val => {\n    var _a, _b;\n    if (val) {\n      previousActive = document.activeElement;\n      if (isRef(initialFocus)) {\n        (_b = (_a = initialFocus.value).focus) == null ? void 0 : _b.call(_a);\n      }\n    } else {\n      if (process.env.NODE_ENV === \"test\") {\n        previousActive.focus.call(previousActive);\n      } else {\n        previousActive.focus();\n      }\n    }\n  });\n};\nexport { useRestoreActive };","map":{"version":3,"names":["useRestoreActive","toggle","initialFocus","previousActive","watch","value","val","_a","_b","document","activeElement","isRef","focus","call","process","env","NODE_ENV"],"sources":["../../../../../packages/hooks/use-restore-active/index.ts"],"sourcesContent":["import { isRef, watch } from 'vue'\nimport type { Ref } from 'vue'\n\n/**\n * This method provides dialogable components the ability to restore previously activated element before\n * the dialog gets opened\n */\nexport const useRestoreActive = (\n  toggle: Ref<boolean>,\n  initialFocus?: Ref<HTMLElement>\n) => {\n  let previousActive: HTMLElement\n  watch(\n    () => toggle.value,\n    (val) => {\n      if (val) {\n        previousActive = document.activeElement as HTMLElement\n        if (isRef(initialFocus)) {\n          initialFocus.value.focus?.()\n        }\n      } else {\n        if (process.env.NODE_ENV === 'test') {\n          previousActive.focus.call(previousActive)\n        } else {\n          previousActive.focus()\n        }\n      }\n    }\n  )\n}\n"],"mappings":";AACY,MAACA,gBAAgB,GAAGA,CAACC,MAAM,EAAEC,YAAY,KAAK;EACxD,IAAIC,cAAc;EAClBC,KAAK,CAAC,MAAMH,MAAM,CAACI,KAAK,EAAGC,GAAG,IAAK;IACjC,IAAIC,EAAE,EAAEC,EAAE;IACV,IAAIF,GAAG,EAAE;MACPH,cAAc,GAAGM,QAAQ,CAACC,aAAa;MACvC,IAAIC,KAAK,CAACT,YAAY,CAAC,EAAE;QACvB,CAACM,EAAE,GAAG,CAACD,EAAE,GAAGL,YAAY,CAACG,KAAK,EAAEO,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGJ,EAAE,CAACK,IAAI,CAACN,EAAE,CAAC;MAC7E;IACA,CAAK,MAAM;MACL,IAAIO,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,MAAM,EAAE;QACnCb,cAAc,CAACS,KAAK,CAACC,IAAI,CAACV,cAAc,CAAC;MACjD,CAAO,MAAM;QACLA,cAAc,CAACS,KAAK,EAAE;MAC9B;IACA;EACA,CAAG,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}