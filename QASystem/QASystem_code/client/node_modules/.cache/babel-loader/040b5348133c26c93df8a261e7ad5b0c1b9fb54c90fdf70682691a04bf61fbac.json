{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"chatbot-layout\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"智能问答小助手\", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"width\": \"150px\",\n    \"height\": \"150px\",\n    \"margin\": \"50px auto\",\n    \"background-image\": \"url(https://s1.ax1x.com/2023/05/08/p90QnsI.jpg)\",\n    \"background-size\": \"100% 100%\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"width\": \"150px\",\n    \"height\": \"150px\",\n    \"margin\": \"50px auto\",\n    \"background-image\": \"url(https://s1.ax1x.com/2023/05/08/p90QmQA.jpg)\",\n    \"background-size\": \"100% 100%\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"width\": \"150px\",\n    \"height\": \"150px\",\n    \"margin\": \"50px auto\",\n    \"background-image\": \"url(https://s1.ax1x.com/2023/05/08/p90QVRH.jpg)\",\n    \"background-size\": \"100% 100%\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"width\": \"150px\",\n    \"height\": \"150px\",\n    \"margin\": \"50px auto\",\n    \"background-image\": \"url(https://s1.ax1x.com/2023/05/08/p90QEJe.jpg)\",\n    \"background-size\": \"100% 100%\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"width\": \"15px\",\n    \"margin\": \"100px auto\",\n    \"font-size\": \"30px\"\n  }\n}, \" 输入文字点击提交提问 \", -1 /* HOISTED */);\nconst _hoisted_8 = [\"innerHTML\"];\nconst _hoisted_9 = {\n  style: {\n    \"width\": \"1000px\",\n    \"height\": \"200px\"\n  }\n};\nconst _hoisted_10 = {\n  style: {\n    \"text-align\": \"right\"\n  }\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Powered by 2021-2022 Software Engineering\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_el_carousel_item = _resolveComponent(\"el-carousel-item\");\n  const _component_el_carousel = _resolveComponent(\"el-carousel\");\n  const _component_el_aside = _resolveComponent(\"el-aside\");\n  const _component_el_descriptions_item = _resolveComponent(\"el-descriptions-item\");\n  const _component_el_descriptions = _resolveComponent(\"el-descriptions\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_footer = _resolveComponent(\"el-footer\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_container, null, {\n    default: _withCtx(() => [_createCommentVNode(\" 顶部 \"), _createVNode(_component_el_header, {\n      style: {\n        \"background-image\": \"url(https://s1.ax1x.com/2022/12/30/pS9keyt.jpg)\",\n        \"background-size\": \"auto\",\n        \"margin-bottom\": \"5px\"\n      }\n    }, {\n      default: _withCtx(() => [_hoisted_2]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_container, null, {\n      default: _withCtx(() => [_createVNode(_component_el_aside, {\n        style: {\n          \"background-color\": \"#FFDAB9\",\n          \"background-image\": \"url(https://s1.ax1x.com/2022/12/30/pS9keyt.jpg)\",\n          \"background-size\": \"530% 100%\",\n          \"text-align\": \"center\"\n        }\n      }, {\n        default: _withCtx(() => [_createCommentVNode(\" 添加一个轮播图模块 \"), _createVNode(_component_el_carousel, {\n          interval: 4000,\n          type: \"card\",\n          height: \"200px\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_carousel_item, null, {\n            default: _withCtx(() => [_hoisted_3]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_carousel_item, null, {\n            default: _withCtx(() => [_hoisted_4]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_carousel_item, null, {\n            default: _withCtx(() => [_hoisted_5]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_carousel_item, null, {\n            default: _withCtx(() => [_hoisted_6]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        }), _hoisted_7]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_main, null, {\n        default: _withCtx(() => [_createVNode(_component_el_container, null, {\n          default: _withCtx(() => [_createVNode(_component_el_main, {\n            style: {\n              \"background-color\": \"#FFFFFF\",\n              \"height\": \"500px\",\n              \"background-image\": \"\"\n            }\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_descriptions, {\n              column: \"1\",\n              size: \"small\",\n              border: \"true\",\n              style: {\n                \"width\": \"1000px\"\n              }\n            }, {\n              default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.chatRecord, item => {\n                return _openBlock(), _createElementBlock(\"div\", {\n                  key: item\n                }, [_createVNode(_component_el_descriptions_item, {\n                  label: item.sender,\n                  \"label-align\": \"center\"\n                }, {\n                  default: _withCtx(() => [_createElementVNode(\"span\", {\n                    innerHTML: item.message\n                  }, null, 8 /* PROPS */, _hoisted_8)]),\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"label\"])]);\n              }), 128 /* KEYED_FRAGMENT */))]),\n\n              _: 1 /* STABLE */\n            })]),\n\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_footer, {\n            style: {\n              \"padding\": \"10px\",\n              \"height\": \"300px\"\n            }\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_el_input, {\n              modelValue: $data.question,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.question = $event),\n              type: \"textarea\",\n              placeholder: \"请输入你的问题\",\n              autosize: {\n                minRows: 5,\n                maxRows: 7\n              },\n              resize: \"none\",\n              \"show-word-limit\": \"\",\n              maxlength: \"300\"\n            }, null, 8 /* PROPS */, [\"modelValue\"]), _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_el_button, {\n              color: \"#8d3d45\",\n              onClick: $options.chat,\n              plain: \"\",\n              style: {\n                \"margin\": \"5px 0\",\n                \"width\": \"100px\"\n              },\n              size: \"large\",\n              disabled: $data.click\n            }, {\n              default: _withCtx(() => [_createTextVNode(\"提交\")]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"onClick\", \"disabled\"])])])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_footer, {\n        style: {\n          \"background-color\": \"#FFDAB9\",\n          \"background-image\": \"url(https://s1.ax1x.com/2022/12/30/pS9keyt.jpg)\",\n          \"background-size\": \"530% 100%\",\n          \"text-align\": \"center\"\n        }\n      }, {\n        default: _withCtx(() => [_hoisted_11]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_createVNode","_component_el_container","_createCommentVNode","_component_el_header","_hoisted_2","_component_el_aside","_component_el_carousel","interval","type","height","_component_el_carousel_item","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_component_el_main","_component_el_descriptions","column","size","border","_Fragment","_renderList","$data","chatRecord","item","key","_component_el_descriptions_item","label","sender","innerHTML","message","_component_el_footer","_hoisted_9","_component_el_input","question","$event","placeholder","autosize","minRows","maxRows","resize","maxlength","_hoisted_10","_component_el_button","color","onClick","$options","chat","plain","disabled","click","_hoisted_11"],"sources":["D:\\2023\\CNCulturalRelicOnline\\QASystem\\QASystem_code\\client\\src\\components\\ChatGPT.vue"],"sourcesContent":["<!-- views/chatgpt.vue -->\n\n<template>\n    <div class=\"chatbot-layout\">\n        <el-container>\n            <!-- 顶部 -->\n            <el-header style=\"background-image: url(https://s1.ax1x.com/2022/12/30/pS9keyt.jpg);background-size:auto;margin-bottom: 5px;\">\n                <h1>智能问答小助手</h1>\n            </el-header>\n\n            <el-container>\n                <el-aside style=\"background-color: #FFDAB9;background-image: url(https://s1.ax1x.com/2022/12/30/pS9keyt.jpg);background-size: 530% 100% ;text-align: center;\">\n                    <!-- 添加一个轮播图模块 -->\n                    <el-carousel :interval=\"4000\" type=\"card\" height=\"200px\">\n                        <el-carousel-item>\n                            <div\n                                style=\"width: 150px;height: 150px;margin: 50px auto;background-image: url(https://s1.ax1x.com/2023/05/08/p90QnsI.jpg);background-size: 100% 100%;\">\n                            </div>\n                        </el-carousel-item>\n                        <el-carousel-item>\n                            <div\n                                style=\"width: 150px;height: 150px;margin: 50px auto;background-image: url(https://s1.ax1x.com/2023/05/08/p90QmQA.jpg);background-size: 100% 100%;\">\n                            </div>\n                        </el-carousel-item>\n                        <el-carousel-item>\n                            <div\n                                style=\"width: 150px;height: 150px;margin: 50px auto;background-image: url(https://s1.ax1x.com/2023/05/08/p90QVRH.jpg);background-size: 100% 100%;\">\n                            </div>\n                        </el-carousel-item>\n                        <el-carousel-item>\n                            <div\n                                style=\"width: 150px;height: 150px;margin: 50px auto;background-image: url(https://s1.ax1x.com/2023/05/08/p90QEJe.jpg);background-size: 100% 100%;\">\n                            </div>\n                        </el-carousel-item>\n                    </el-carousel>\n\n                    <div style=\"width: 15px;margin: 100px auto; font-size: 30px; \">\n                        输入文字点击提交提问\n                    </div>\n                </el-aside>\n\n                <el-main>\n                    <el-container>\n                        <el-main style=\"background-color:#FFFFFF;height:500px;background-image: ;\">\n                            <el-descriptions column=1 size=\"small\" border=\"true\" style=\"width:1000px;\">\n                                <div v-for=\"item in chatRecord\" :key=\"item\">\n                                    <el-descriptions-item :label=\"item.sender\" label-align=\"center\">\n                                        <span v-html=item.message></span>\n                                    </el-descriptions-item>\n                                </div>\n                            </el-descriptions>\n                        </el-main>\n\n                        <el-footer style=\"padding:10px;height:300px;\">\n                            <div style=\"width:1000px; height: 200px;\">\n                                <el-input v-model=\"question\" type=\"textarea\" placeholder=\"请输入你的问题\"\n                                    :autosize=\"{ minRows: 5, maxRows: 7 }\" resize=\"none\" show-word-limit maxlength=\"300\" />\n                                <div style=\"text-align: right;\">\n                                    <el-button color=\"#8d3d45\" @click=\"chat\" plain style=\"margin: 5px 0;width:100px;\"\n                                        size=\"large\" :disabled=\"click\">提交</el-button>\n                                </div>\n                            </div>\n                        </el-footer>\n                    </el-container>\n\n\n                </el-main>\n\n                <el-footer style=\"background-color: #FFDAB9;background-image: url(https://s1.ax1x.com/2022/12/30/pS9keyt.jpg);background-size: 530% 100% ;text-align: center;\">\n                    <h3>Powered by 2021-2022 Software Engineering</h3>\n                </el-footer>\n            </el-container>\n        </el-container>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: 'ChatGPT',\n    data() {\n        return {\n            question: \"\",\n            count: 0,\n            click: false,\n            chatRecord: [{ sender: \"小助手 :\", message: \"您好！有什么需要向我提问的吗？\" }]\n        }\n    },\n    methods: {\n        chat() {\n            this.click = true;\n            let url = 'http://127.0.0.1:8080/request?question=' + this.question;\n            //let url = 'https://chat-bot-29072-7-1316779917.sh.run.tcloudbase.com/request?question=' + this.question;\n            var you = { sender: \"YOU:\", message: this.question };\n            var ai = { sender: \"小助手:\", message: \"\" };\n            this.chatRecord.push(you);\n            this.chatRecord.push(ai);\n            this.question = \"\";\n            let es = new EventSource(url);\n            es.addEventListener('message', event => {\n                console.log(event.data);\n                this.count++;\n                if (this.count > 2) {\n                    if (event.data.toString() === \"Answer Done!\") {\n                        es.close();\n                        this.count = 0;\n                        this.click = false;\n                    } else {\n                        var ai = this.chatRecord[this.chatRecord.length - 1]\n                        ai.message += event.data;\n                        this.chatRecord[this.chatRecord.length - 1] = ai;\n                    }\n                }\n            });\n        }\n    }\n}\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}