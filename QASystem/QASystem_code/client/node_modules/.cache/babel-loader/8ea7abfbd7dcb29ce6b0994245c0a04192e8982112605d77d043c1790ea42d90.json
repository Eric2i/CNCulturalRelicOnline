{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { inject } from 'vue';\nimport '../../../../hooks/index.mjs';\nimport { getFixedColumnOffset, ensurePosition, getFixedColumnsClass } from '../util.mjs';\nimport { TABLE_INJECTION_KEY } from '../tokens.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nfunction useStyle(props) {\n  const parent = inject(TABLE_INJECTION_KEY);\n  const ns = useNamespace(\"table\");\n  const getHeaderRowStyle = rowIndex => {\n    const headerRowStyle = parent == null ? void 0 : parent.props.headerRowStyle;\n    if (typeof headerRowStyle === \"function\") {\n      return headerRowStyle.call(null, {\n        rowIndex\n      });\n    }\n    return headerRowStyle;\n  };\n  const getHeaderRowClass = rowIndex => {\n    const classes = [];\n    const headerRowClassName = parent == null ? void 0 : parent.props.headerRowClassName;\n    if (typeof headerRowClassName === \"string\") {\n      classes.push(headerRowClassName);\n    } else if (typeof headerRowClassName === \"function\") {\n      classes.push(headerRowClassName.call(null, {\n        rowIndex\n      }));\n    }\n    return classes.join(\" \");\n  };\n  const getHeaderCellStyle = (rowIndex, columnIndex, row, column) => {\n    var _a;\n    let headerCellStyles = (_a = parent == null ? void 0 : parent.props.headerCellStyle) != null ? _a : {};\n    if (typeof headerCellStyles === \"function\") {\n      headerCellStyles = headerCellStyles.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n    const fixedStyle = getFixedColumnOffset(columnIndex, column.fixed, props.store, row);\n    ensurePosition(fixedStyle, \"left\");\n    ensurePosition(fixedStyle, \"right\");\n    return Object.assign({}, headerCellStyles, fixedStyle);\n  };\n  const getHeaderCellClass = (rowIndex, columnIndex, row, column) => {\n    const fixedClasses = getFixedColumnsClass(ns.b(), columnIndex, column.fixed, props.store, row);\n    const classes = [column.id, column.order, column.headerAlign, column.className, column.labelClassName, ...fixedClasses];\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n    if (column.sortable) {\n      classes.push(\"is-sortable\");\n    }\n    const headerCellClassName = parent == null ? void 0 : parent.props.headerCellClassName;\n    if (typeof headerCellClassName === \"string\") {\n      classes.push(headerCellClassName);\n    } else if (typeof headerCellClassName === \"function\") {\n      classes.push(headerCellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n    classes.push(ns.e(\"cell\"));\n    return classes.filter(className => Boolean(className)).join(\" \");\n  };\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass\n  };\n}\nexport { useStyle as default };","map":{"version":3,"names":["useStyle","props","parent","inject","TABLE_INJECTION_KEY","ns","useNamespace","getHeaderRowStyle","rowIndex","headerRowStyle","call","getHeaderRowClass","classes","headerRowClassName","push","join","getHeaderCellStyle","columnIndex","row","column","_a","headerCellStyles","headerCellStyle","fixedStyle","getFixedColumnOffset","fixed","store","ensurePosition","Object","assign","getHeaderCellClass","fixedClasses","getFixedColumnsClass","b","id","order","headerAlign","className","labelClassName","children","sortable","headerCellClassName","e","filter","Boolean"],"sources":["../../../../../../../packages/components/table/src/table-header/style.helper.ts"],"sourcesContent":["import { inject } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport {\n  ensurePosition,\n  getFixedColumnOffset,\n  getFixedColumnsClass,\n} from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableHeaderProps } from '.'\n\nfunction useStyle<T>(props: TableHeaderProps<T>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const ns = useNamespace('table')\n\n  const getHeaderRowStyle = (rowIndex: number) => {\n    const headerRowStyle = parent?.props.headerRowStyle\n    if (typeof headerRowStyle === 'function') {\n      return headerRowStyle.call(null, { rowIndex })\n    }\n    return headerRowStyle\n  }\n\n  const getHeaderRowClass = (rowIndex: number): string => {\n    const classes: string[] = []\n    const headerRowClassName = parent?.props.headerRowClassName\n    if (typeof headerRowClassName === 'string') {\n      classes.push(headerRowClassName)\n    } else if (typeof headerRowClassName === 'function') {\n      classes.push(headerRowClassName.call(null, { rowIndex }))\n    }\n\n    return classes.join(' ')\n  }\n\n  const getHeaderCellStyle = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    let headerCellStyles = parent?.props.headerCellStyle ?? {}\n    if (typeof headerCellStyles === 'function') {\n      headerCellStyles = headerCellStyles.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column,\n      })\n    }\n    const fixedStyle = getFixedColumnOffset<T>(\n      columnIndex,\n      column.fixed,\n      props.store,\n      row as unknown as TableColumnCtx<T>[]\n    )\n    ensurePosition(fixedStyle, 'left')\n    ensurePosition(fixedStyle, 'right')\n    return Object.assign({}, headerCellStyles, fixedStyle)\n  }\n\n  const getHeaderCellClass = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    const fixedClasses = getFixedColumnsClass<T>(\n      ns.b(),\n      columnIndex,\n      column.fixed,\n      props.store,\n      row as unknown as TableColumnCtx<T>[]\n    )\n    const classes = [\n      column.id,\n      column.order,\n      column.headerAlign,\n      column.className,\n      column.labelClassName,\n      ...fixedClasses,\n    ]\n\n    if (!column.children) {\n      classes.push('is-leaf')\n    }\n\n    if (column.sortable) {\n      classes.push('is-sortable')\n    }\n\n    const headerCellClassName = parent?.props.headerCellClassName\n    if (typeof headerCellClassName === 'string') {\n      classes.push(headerCellClassName)\n    } else if (typeof headerCellClassName === 'function') {\n      classes.push(\n        headerCellClassName.call(null, {\n          rowIndex,\n          columnIndex,\n          row,\n          column,\n        })\n      )\n    }\n\n    classes.push(ns.e('cell'))\n\n    return classes.filter((className) => Boolean(className)).join(' ')\n  }\n\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass,\n  }\n}\n\nexport default useStyle\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}